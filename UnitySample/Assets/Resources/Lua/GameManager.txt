-- GameManager.lua

import "UnityEngine"

-- functions
local assets = {
	'ui.unity3d',
	"modelprefab.unity3d"
}

local function endLoad()
	UIManager:GetInstance():Initlize()
end

local function loadAssetBundle(index)
	
	local assetsMgr = AssetsManager:GetInstance()
	
	if index > #(assets) then
		endLoad()
		return
	end
	
	local status = function(args)
	end
	
	local callback = function(asset)
		loadAssetBundle(index + 1)
	end
	
	assetsMgr:LoadAsset(assets[index], callback, status)
end

 -- gamemanager
local gm = {}

function gm:init()
	--UIManager:_Load(0)
	
	loadAssetBundle(1)
end

function gm:term()

end

function gm:update()

end

function main()

	gm:init()
	
	return gm
end